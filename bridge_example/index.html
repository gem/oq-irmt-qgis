<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Index</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <body>
        <button id='mybutton' type="button">Click Me!</button>
    </body>
    <script charset="utf-8">
        $(document).ready(function(){
            $('#mybutton').click(function(){
                if (typeof pyapi == 'undefined') {
                    alert("Called by normal browser")
                } else {
                    pyapi.notify_click();
                    alert("Called by QGIS")
                    console.info("1 + 2 = " + pyapi.add(1, 2));
                    var strlist = ['a', 'b', 'c'];
                    console.info(pyapi.concat(strlist));
                    var jsobj = {
                        a: 1,
                        b: 'test',
                        c: 1.23
                    };
                    var json = pyapi.json_encode(jsobj);
                    console.info(json);
                    console.info(pyapi.json_decode(json));
                }
            });
        });
    </script>
</html>
