<html><head><title>OpenQuake Integrated Risk Modelling Toolkit - User Manual v1.0</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=m0tazYRimFnV1hoGKbgtnw');ol.lst-kix_klxrrypu49u6-2.start{counter-reset:lst-ctn-kix_klxrrypu49u6-2 0}.lst-kix_n6by2jtt39ij-8>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-8}.lst-kix_xy8o1aagt4yq-8>li:before{content:"\0025a0  "}.lst-kix_klxrrypu49u6-1>li{counter-increment:lst-ctn-kix_klxrrypu49u6-1}.lst-kix_xy8o1aagt4yq-6>li:before{content:"\0025cf  "}.lst-kix_xy8o1aagt4yq-7>li:before{content:"\0025cb  "}ol.lst-kix_klxrrypu49u6-5.start{counter-reset:lst-ctn-kix_klxrrypu49u6-5 0}.lst-kix_xy8o1aagt4yq-4>li:before{content:"\0025cb  "}.lst-kix_xy8o1aagt4yq-1>li:before{content:"\0025cb  "}.lst-kix_xy8o1aagt4yq-5>li:before{content:"\0025a0  "}.lst-kix_xy8o1aagt4yq-2>li:before{content:"\0025a0  "}.lst-kix_xy8o1aagt4yq-3>li:before{content:"\0025cf  "}ol.lst-kix_klxrrypu49u6-8.start{counter-reset:lst-ctn-kix_klxrrypu49u6-8 0}.lst-kix_klxrrypu49u6-3>li{counter-increment:lst-ctn-kix_klxrrypu49u6-3}.lst-kix_klxrrypu49u6-0>li{counter-increment:lst-ctn-kix_klxrrypu49u6-0}.lst-kix_xy8o1aagt4yq-0>li:before{content:"\0025cf  "}.lst-kix_n6by2jtt39ij-7>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-7}ol.lst-kix_n6by2jtt39ij-5.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-5 0}.lst-kix_klxrrypu49u6-3>li:before{content:"(" counter(lst-ctn-kix_klxrrypu49u6-3,decimal) ") "}.lst-kix_klxrrypu49u6-4>li:before{content:"(" counter(lst-ctn-kix_klxrrypu49u6-4,lower-latin) ") "}ol.lst-kix_n6by2jtt39ij-2.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-2 0}.lst-kix_klxrrypu49u6-6>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-6,decimal) ". "}ol.lst-kix_n6by2jtt39ij-1.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-1 0}.lst-kix_klxrrypu49u6-5>li:before{content:"(" counter(lst-ctn-kix_klxrrypu49u6-5,lower-roman) ") "}.lst-kix_klxrrypu49u6-7>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-7,lower-latin) ". "}ul.lst-kix_xy8o1aagt4yq-1{list-style-type:none}ol.lst-kix_n6by2jtt39ij-8.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-8 0}ul.lst-kix_xy8o1aagt4yq-2{list-style-type:none}ul.lst-kix_xy8o1aagt4yq-0{list-style-type:none}ul.lst-kix_xy8o1aagt4yq-5{list-style-type:none}ul.lst-kix_xy8o1aagt4yq-6{list-style-type:none}ol.lst-kix_klxrrypu49u6-0.start{counter-reset:lst-ctn-kix_klxrrypu49u6-0 0}ul.lst-kix_xy8o1aagt4yq-3{list-style-type:none}ul.lst-kix_xy8o1aagt4yq-4{list-style-type:none}ul.lst-kix_xy8o1aagt4yq-7{list-style-type:none}.lst-kix_klxrrypu49u6-8>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-8,lower-roman) ". "}ul.lst-kix_xy8o1aagt4yq-8{list-style-type:none}.lst-kix_klxrrypu49u6-4>li{counter-increment:lst-ctn-kix_klxrrypu49u6-4}.lst-kix_n6by2jtt39ij-0>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-0}.lst-kix_n6by2jtt39ij-6>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-6}ol.lst-kix_n6by2jtt39ij-7.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-7 0}ol.lst-kix_klxrrypu49u6-1.start{counter-reset:lst-ctn-kix_klxrrypu49u6-1 0}ol.lst-kix_n6by2jtt39ij-0.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-0 0}ol.lst-kix_klxrrypu49u6-7.start{counter-reset:lst-ctn-kix_klxrrypu49u6-7 0}.lst-kix_u1hpdygn814h-6>li:before{content:"\0025cf  "}.lst-kix_u1hpdygn814h-5>li:before{content:"\0025a0  "}.lst-kix_u1hpdygn814h-7>li:before{content:"\0025cb  "}.lst-kix_u1hpdygn814h-2>li:before{content:"\0025a0  "}.lst-kix_u1hpdygn814h-1>li:before{content:"\0025cb  "}.lst-kix_u1hpdygn814h-0>li:before{content:"\0025cf  "}.lst-kix_u1hpdygn814h-8>li:before{content:"\0025a0  "}.lst-kix_n6by2jtt39ij-2>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-2}.lst-kix_n6by2jtt39ij-3>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-3}ol.lst-kix_klxrrypu49u6-6.start{counter-reset:lst-ctn-kix_klxrrypu49u6-6 0}ol.lst-kix_n6by2jtt39ij-3.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-3 0}.lst-kix_klxrrypu49u6-7>li{counter-increment:lst-ctn-kix_klxrrypu49u6-7}ol.lst-kix_n6by2jtt39ij-6.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-6 0}ul.lst-kix_u1hpdygn814h-8{list-style-type:none}.lst-kix_n6by2jtt39ij-3>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-3,decimal) ". "}.lst-kix_n6by2jtt39ij-4>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-4,lower-latin) ". "}ul.lst-kix_u1hpdygn814h-5{list-style-type:none}ul.lst-kix_u1hpdygn814h-4{list-style-type:none}.lst-kix_n6by2jtt39ij-1>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-1,lower-latin) ". "}.lst-kix_n6by2jtt39ij-5>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-5,lower-roman) ". "}ul.lst-kix_u1hpdygn814h-7{list-style-type:none}ul.lst-kix_u1hpdygn814h-6{list-style-type:none}.lst-kix_n6by2jtt39ij-0>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-0,decimal) ". "}.lst-kix_n6by2jtt39ij-7>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-7,lower-latin) ". "}.lst-kix_n6by2jtt39ij-8>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-8,lower-roman) ". "}.lst-kix_n6by2jtt39ij-6>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-6,decimal) ". "}.lst-kix_klxrrypu49u6-6>li{counter-increment:lst-ctn-kix_klxrrypu49u6-6}ol.lst-kix_klxrrypu49u6-0{list-style-type:none}ol.lst-kix_klxrrypu49u6-1{list-style-type:none}.lst-kix_n6by2jtt39ij-4>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-4}ol.lst-kix_klxrrypu49u6-6{list-style-type:none}ul.lst-kix_u1hpdygn814h-1{list-style-type:none}.lst-kix_n6by2jtt39ij-1>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-1}ol.lst-kix_klxrrypu49u6-7{list-style-type:none}ul.lst-kix_u1hpdygn814h-0{list-style-type:none}ol.lst-kix_klxrrypu49u6-8{list-style-type:none}ul.lst-kix_u1hpdygn814h-3{list-style-type:none}ul.lst-kix_u1hpdygn814h-2{list-style-type:none}ol.lst-kix_klxrrypu49u6-2{list-style-type:none}ol.lst-kix_klxrrypu49u6-3{list-style-type:none}.lst-kix_n6by2jtt39ij-2>li:before{content:"" counter(lst-ctn-kix_n6by2jtt39ij-2,lower-roman) ". "}ol.lst-kix_klxrrypu49u6-4{list-style-type:none}ol.lst-kix_klxrrypu49u6-5{list-style-type:none}.lst-kix_n6by2jtt39ij-5>li{counter-increment:lst-ctn-kix_n6by2jtt39ij-5}.lst-kix_klxrrypu49u6-2>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-2,lower-roman) ") "}.lst-kix_klxrrypu49u6-1>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-1,lower-latin) ") "}.lst-kix_klxrrypu49u6-0>li:before{content:"" counter(lst-ctn-kix_klxrrypu49u6-0,decimal) ") "}ol.lst-kix_klxrrypu49u6-3.start{counter-reset:lst-ctn-kix_klxrrypu49u6-3 0}ol.lst-kix_n6by2jtt39ij-6{list-style-type:none}ol.lst-kix_n6by2jtt39ij-4.start{counter-reset:lst-ctn-kix_n6by2jtt39ij-4 0}ol.lst-kix_n6by2jtt39ij-5{list-style-type:none}ol.lst-kix_n6by2jtt39ij-8{list-style-type:none}ol.lst-kix_n6by2jtt39ij-7{list-style-type:none}.lst-kix_klxrrypu49u6-5>li{counter-increment:lst-ctn-kix_klxrrypu49u6-5}ol.lst-kix_n6by2jtt39ij-2{list-style-type:none}ol.lst-kix_n6by2jtt39ij-1{list-style-type:none}.lst-kix_klxrrypu49u6-8>li{counter-increment:lst-ctn-kix_klxrrypu49u6-8}ol.lst-kix_n6by2jtt39ij-4{list-style-type:none}ol.lst-kix_klxrrypu49u6-4.start{counter-reset:lst-ctn-kix_klxrrypu49u6-4 0}ol.lst-kix_n6by2jtt39ij-3{list-style-type:none}.lst-kix_u1hpdygn814h-3>li:before{content:"\0025cf  "}ol.lst-kix_n6by2jtt39ij-0{list-style-type:none}.lst-kix_u1hpdygn814h-4>li:before{content:"\0025cb  "}.lst-kix_klxrrypu49u6-2>li{counter-increment:lst-ctn-kix_klxrrypu49u6-2}ol{margin:0;padding:0}.c25{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:221.2pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:222.8pt;border-top-color:#000000;border-bottom-style:solid}.c13{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c28{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c29{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c30{padding-bottom:0pt;line-height:1.15;text-align:center;direction:ltr}.c2{margin-left:36pt;padding-left:0pt;text-align:justify}.c9{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c0{orphans:2;widows:2;direction:ltr}.c43{border-collapse:collapse;margin-right:auto}.c19{background-color:#ffffff;font-family:"Arial"}.c1{color:#1155cc;text-decoration:underline}.c18{margin-left:36pt;padding-left:0pt}.c32{color:#252525;font-weight:bold}.c33{padding-bottom:0pt;line-height:1.15}.c44{padding-top:24pt;padding-bottom:6pt}.c15{font-size:11pt;font-family:"Arial"}.c45{width:33%;height:1px}.c5{font-weight:bold;font-style:italic}.c35{padding-bottom:5pt;line-height:1.2}.c8{color:inherit;text-decoration:inherit}.c37{text-align:left;direction:ltr}.c6{page-break-after:avoid;text-align:justify}.c20{padding:0;margin:0}.c40{font-size:8pt}.c4{margin-left:18pt}.c7{page-break-after:avoid}.c27{height:0pt}.c26{color:#0000ff}.c17{font-style:italic}.c16{line-height:1.0}.c14{font-size:10pt}.c41{color:#980000}.c21{height:16pt}.c38{color:#252525}.c24{color:#ffff00}.c22{margin-left:36pt}.c42{padding-bottom:2pt}.c39{color:#ffffff}.c11{text-align:justify}.c34{text-align:right}.c12{height:11pt}.c3{font-size:9pt}.c31{text-align:center}.c36{text-indent:36pt}.c10{padding-top:0pt}.title{padding-top:0pt;color:#000000;font-size:21pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.subtitle{padding-top:0pt;color:#666666;font-size:13pt;padding-bottom:10pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:justify}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:10pt;color:#000000;font-size:16pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h2{padding-top:10pt;color:#000000;font-weight:bold;font-size:13pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h3{padding-top:8pt;color:#666666;font-weight:bold;font-size:12pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h4{padding-top:8pt;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:justify}</style></head><body class="c9"><p class="c0 c31 c44 title"><a name="h.7qiatzvch39p"></a><span>OpenQuake Integrated Risk Modelling Toolkit: User Guide and Manual</span></p><p class="c0 c12"><span></span></p><p class="c0 c7 subtitle"><a name="h.bu73bn3mlwtz"></a><span>User Manual v1.0, aligned with IMRT plugin v1.6.3, Last update: 14/08/2015</span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.tqtly4fc0lyr">1 Introduction</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.oweolfzn25t">2 What do we mean by the terms &ldquo;layer&rdquo;, &ldquo;project&rdquo; and &ldquo;project definition&rdquo;?</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.oflglt734r3q">3 OpenQuake Platform connection settings</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.w5qedroit0sf">4 Load socioeconomic indicators from the OpenQuake Platform</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.t1ol53wssbej">5 Download project from the OpenQuake Platform</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.np6kz2bvx04a">6 Transform attribute</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.3nev2uqrrn0c">7 Project definitions manager</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.d687bx8xjywt">8 Weighting data and calculating indices</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.530ipoaug34o">8.1 Adding a node</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.gylny596msbx">8.2 Removing a node</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.eyns3xmax8ny">8.3 Setting the operators to be used to combine nodes together (variable aggregation)</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.8stxtae50xpn">8.4 Setting weights</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.lminh8a9hhg2">8.5 Inverting a variable</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.m49m392nrvs2">8.6 Assigning a new name to a variable</a></span></p><p class="c0 c22"><span class="c1"><a class="c8" href="#h.oahobzr116eq">8.7 Styling the layer by a chosen field</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.r2z1lu70c95j">9 Aggregate loss by zone</a></span></p><p class="c0 c4"><span class="c1"><a class="c8" href="#h.6w2yqbgnp6ca">10 Upload project to the OpenQuake Platform</a></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><h1 class="c0 c7"><a name="h.tqtly4fc0lyr"></a><span>1 </span><span>Introduction</span></h1><p class="c0"><span>At the core of the Global Earthquake Model (GEM) is the development of state-of-the-art modeling capabilities and a suite of software tools that can be utilized worldwide for the assessment and communication of earthquake risk. For a more holistic assessment of the scale and consequences of earthquake impacts, a set of methods, metrics, and tools are incorporated into the GEM modelling framework to assess earthquake impact potential beyond direct physical impacts and loss of life. This is because with increased exposure of people, livelihoods, and property to earthquakes, the potential for social and economic impacts of earthquakes cannot be ignored. Not only is it vital to evaluate and benchmark the conditions within social systems that lead to adverse earthquake impacts and loss, it is equally important to measure the capacity of populations to respond to damaging events and to provide a set of metrics for priority setting and decision-making. &nbsp;</span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>The employment &nbsp;of a methodology and workflow necessary for the evaluation of seismic risk that is integrated and holistic begins with the Integrated Risk Modelling Toolkit (IRMT). The IRMT is QGIS plugin that was developed by the</span><span>&nbsp;</span><span class="c1"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.globalquakemodel.org%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHIljXDmwApG0SonENE34Pl80zUHQ">Global Earthquake Model (GEM) Foundation</a></span><span>&nbsp;</span><span>and co-designed by GEM and the </span><span class="c1"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fwww.cedim.de%2Fenglish%2Findex.php&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFMlc12y68Y90CMMpzganpoJ4ThvA">Center for Disaster Management and Risk Reduction Technology</a></span><span>&nbsp;(CEDIM). The plugin </span><span>allows users to form an integrated workflow for the construction of metrics used to assess characteristics within societies that affect earthquake risk by providing a GIS-based platform for the construction of indicators and composite indices to foster </span><span>comparative assessments. Here, an indicator is defined as a piece of information that summarizes the characteristics of a system or highlights what is happening in a system. </span><span>An </span><span>indicator is a </span><span>quantitative or qualitative</span><span>&nbsp;measure derived from observed facts that simplify and communicate the reality of a complex situation. Indicators reveal the relative position of the phenomena being measured and when evaluated over time, can illustrate the magnitude of change (a little or a lot) as well as direction of change (up or down; increasing or decreasing). The mathematical combination (or aggregation as it is termed) of a set of indicators forms a composite indicator (or composite index or indices).</span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>As part of the workflow, the IRMT facilitates the integration of composite indicators of socio-economic characteristics with measures of physical risk (i.e. estimations of human or economic loss) from the OpenQuake Engine (OQ-engine)</span><sup><a href="#ftnt1" name="ftnt_ref1">[1]</a></sup><span>, or other sources, to form what is referred to as an integrated risk assessment. Although the tool may be utilized for any type of indicator development, it is encouraged that composite indicators of social vulnerability are developed within this integrated risk framework. Social vulnerability is defined here as characteristics or qualities within social systems that create the potential for harm or loss from damaging hazard events. Given equal exposure to natural threats, such as an earthquake, two groups may vary in their social vulnerability due to their pre-existing social characteristics, where differences according to wealth, gender, race, class, history, and sociopolitical organization influence the patterns of loss, mortality, and the ability to reconstruct following damaging events. </span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>The focus on the development of indicators of social vulnerability, and ultimately integrated risk, will allow</span><span class="c41">&nbsp;</span><span>researchers, decision-makers, and other relevant stakeholders to:</span></p><p class="c0 c36"><span class="c24">&nbsp;</span></p><ul class="c20 lst-kix_xy8o1aagt4yq-0 start"><li class="c0 c18"><span>consider loss and damage as part of a dynamic system in which interactions between natural systems and societal factors redistribute risk before an event and redistribute loss after an event </span></li><li class="c0 c18"><span>mainstream socio-economic vulnerability and resilience in earthquake loss and damage policy discussions</span></li><li class="c0 c18"><span>evaluate loss and damage taking social factors into account </span><span>at different time and space scales</span></li><li class="c0 c18"><span>use risk assessments in benchmarking exercises to monitor trends in earthquake risk over time</span></li><li class="c0 c18"><span>recognize that both causes and solutions for earthquake loss are found in human, environmental, and built-environmental interactions</span></li><li class="c0 c18"><span>help decision-makers develop a common dialog that pertains to the factors that they should concentrate on to reduce risk and strengthen resilience.</span></li></ul><p class="c0 c12"><span></span></p><p class="c0 c11"><span>The development of composite indicators is not new to research fields and occupations requiring empirical measurement, and a vast literature on composite indicators exists that outline methodological approaches for index construction and validation. To accompany this manual we suggest the use of two popular resources </span><span>aimed at providing a guide for the construction and use of composite indicators.</span></p><p class="c0 c11 c12"><span></span></p><ol class="c20 lst-kix_klxrrypu49u6-0 start" start="1"><li class="c2 c0"><span>Nardo, M., Saisana, M., Saltelli, A. and Tarantola, S. 2005. </span><span class="c17">Tools for composite indicators Building</span><span>. Ispara, Italy: Joint Research Center of the European Commission.</span></li></ol><p class="c0 c11 c12"><span></span></p><ol class="c20 lst-kix_klxrrypu49u6-0" start="2"><li class="c2 c0"><span>Nardo, M., Saisana, M., Saltelli, A. and Tarantola, S. 2008. </span><span class="c17">Handbook on constructing composite indicators: Methodology and user guide</span><span>. Paris, France: OECD Publishing.</span></li></ol><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>This</span><span>&nbsp;literature outlines the process of robust composite indicator construction that contains a number of steps. </span><span>The IRMT leverages the QGIS platform to guide the user through the major steps for index construction. These steps include 1) the selection of variables; 2) data normalization/standardization; 3) weighting and aggregation to produce composite indicators; 4) risk integration using OpenQuake risk estimates; and 5) the presentation of the results. Brief descriptions of the tool&rsquo;s components and the workflow to develop integrated risk models are outlined in the sections below.</span></p><h1 class="c0 c6"><a name="h.oweolfzn25t"></a><span>2 What do we mean by the terms &ldquo;layer&rdquo;, &ldquo;project&rdquo; and &ldquo;project definition&rdquo;?</span></h1><p class="c0 c12"><span></span></p><p class="c0 c11"><span>In this manual, the terminology &ldquo;layer&rdquo;, &ldquo;project&rdquo;, and &ldquo;project definition&rdquo; are used ubiquitously, and it is important to explain what the terminology means as well as its use. In QGIS, a &ldquo;project&rdquo; or &ldquo;project file&rdquo; is a kind of container that acts like a folder storing information on file locations of layers and how these layers are displayed in a map. &nbsp;It is the main QGIS datafile. A &rdquo;layer&rdquo; is the mechanism used to display geographic datasets in the QGIS software, and layers provide the data that is manipulated within the IRMT. Each layer references a specific dataset and specifies how that dataset is portrayed within the map. The standard layer format for the IRMT is the ESRI Shapefile</span><sup><a href="#ftnt2" name="ftnt_ref2">[2]</a></sup><span>&nbsp;which can be imported within the QGIS software using the default &ldquo;add data&rdquo; functionality, or layers may be created on-the-fly within the IRMT using GEM&rsquo;s socio-economic databases. A QGIS project can include multiple layers that can be utilized to provide the variables and maps necessary for an integrated risk assessment. For each layer, multiple &ldquo;project definitions&rdquo; can be saved. A &ldquo;project definition&rdquo; is a tree-shaped model that is created within the IRMT to define the integrated risk assessment&rsquo;s workflow. The project definition allows users to create, edit, and manage the workflow needed to systematically develop integrated risk models using layers. The project definition: &nbsp;</span></p><p class="c0 c11"><span>&nbsp; &nbsp;</span></p><ul class="c20 lst-kix_u1hpdygn814h-0 start"><li class="c2 c0"><span>distinguishes which variables within a dataset are to be combined together to obtain a composite indicator;</span></li><li class="c2 c0"><span>defines how variables are grouped together by supporting: 1) deductive </span><span>models that typically contain fewer than ten indicators that are normalized and aggregated to create the index; &nbsp;and 2) hierarchical models that </span><span>employ roughly ten to twenty indicators that are separated into groups (sub-indices) that share the same underlying dimension (such as economy and infrastructure) in a manner in which individual indicators are aggregated into sub-indices, and the subindices are aggregated to create the index;</span></li><li class="c2 c0"><span>describes &nbsp;the type of aggregation method including additive modelling, weighted aggregation, and geometric aggregation that can be utilized by users to combine variables; </span></li><li class="c0 c2"><span>establishes the application of weights (if desired) to individual variables or sub-indices; and </span></li><li class="c2 c0"><span>delimits the directionality of variables when the intent is to consider that some variables may add to an index outcome; whereas some variables may may need to detract from it. When considering the social vulnerability of populations, a socio-economic status indicator such as the percentage of population with a college education provides an example of a characteristic that may detract from social vulnerability, thereby warranting a negative directionality within an index. </span><hr style="page-break-before:always;display:none;"></li></ul><h1 class="c0 c7"><a name="h.oflglt734r3q"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image20.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>3 OpenQuake Platform connection settings</span></h1><p class="c0 c12"><span></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 399.00px; height: 308.00px;"><img alt="" src="images/image07.png" style="width: 399.00px; height: 308.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 1. OQ-Platform connection settings</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>Some of the functionalities provided by the plugin, such as the ability to work with GEM data, require the interaction between the plugin itself and the OpenQuake Platform (OQ-Platform). </span><span>The OQ-Platform is a web-based portal to visualize, explore and share GEM&#39;s datasets, tools and models. </span><span>In the &ldquo;Platform Settings&rdquo; dialog displayed in Figure 1, credentials must be inserted to authenticate the user and to allow the user to log into the OQ-Platform. In the </span><span class="c17">&lsquo;Host&rsquo;</span><span>&nbsp;field insert the URL of GEM&rsquo;s production installation of the OQ-Platform (</span><span class="c1"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fplatform.openquake.org&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHIEo3ALhpKKd_0m61u7uB-4-ArZg">https://platform.openquake.org</a></span><span>) or a different installation if you have URL access. If you still haven&rsquo;t signed up to the OQ-Platform, you can do so by clicking &lsquo;Register to the OQ-Platform&rsquo;. This will open a new web browser and sign up page (</span><span class="c1"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fplatform.openquake.org%2Faccount%2Fsignup%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNG5t0NjNz1TMm2WIJZtdd-S6eqYyA">https://platform.openquake.org/account/signup/</a></span><span>). The checkbox labeled </span><span class="c17">&lsquo;Developer mode (requires restart)&rsquo;</span><span>&nbsp;can be used to increase the verbosity of logging. The latter is useful for developers or advanced users because </span><span>logging</span><span class="c39">&nbsp;</span><span>is critical for troubleshooting</span><span>, but it is not recommended for standard users.</span></p><h1 class="c0 c7 c21"><a name="h.m88b0i7197rj"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c0 c7 c21"><a name="h.ink5mnppwbqp"></a></h1><h1 class="c0 c7"><a name="h.w5qedroit0sf"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image17.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>4 Load socioeconomic indicators from the OpenQuake Platform</span></h1><p class="c0 c12"><span></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 616.00px;"><img alt="" src="images/image23.png" style="width: 624.00px; height: 616.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 2. Socio-economic indicators selection portal</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>The selection of data comprises an essential step for an assessment of risk from an integrated and holistic perspective using indicators. The strengths and weaknesses of composite indicators are derived to a great extent by the quality of the underlying variables. Ideally, variables should be selected based on their relevance to the phenomenon being measured, analytical soundness, accessibility, and completeness</span><sup><a href="#ftnt3" name="ftnt_ref3">[3]</a></sup><span>. Proxy measures for social and economic vulnerability have been provided by the Global Earthquake Model that have been stringently tested for representativeness, robustness, coverage and analytical soundness</span><sup><a href="#ftnt4" name="ftnt_ref4">[4]</a></sup><span>. These are currently accessible in the IRMT at the national level of geography (gadm L1). Future software releases will add access to data at gadm level 2 (L2) for a selection of countries and regions. This will include the eight Andean countries of South America and countries within Sub-Saharan Africa. </span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>Figure 2. displays the &ldquo;Select Socioeconomic Indicators&rdquo; dialog that was developed to allow users to select indicators based on a number of factors and filtering mechanisms. A </span><span class="c17">&ldquo;Filters&rdquo;</span><span>&nbsp;section was developed to enable users to filter indicators by name, keywords, theme (e.g. Economy) and subtheme (e.g Resource Distribution and Poverty). The &ldquo;</span><span>subtheme&rdquo;</span><span>&nbsp;dropdown menu is automatically populated depending on the selection of a respective </span><span>theme. When </span><span class="c17">&ldquo;Get indicators&rdquo;</span><span>&nbsp;is pressed, a list of filtered indicators is populated on the left side of the dialog within the &ldquo;Select indicators&rdquo; window. If no filters are set, then the whole list of indicators available within the database is retrieved and displayed within the &ldquo;Select indicators&rdquo; window.</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>From the &ldquo;Select indicators&rdquo; window, it is possible to select one or more indicators by single-clicking them in the &ldquo;Unselected&rdquo; list on the left. Double-clicking the selected indicator(s) moves them to the &ldquo;Selected&rdquo; list on the right, and the corresponding data will be downloaded from the OQ-Platform. Another way to move items to the right, or back to the left, is to use the four central buttons (&ldquo;add the selected items&rdquo;, &ldquo;remove the selected items&rdquo;, &ldquo;add all&rdquo;, &ldquo;remove all&rdquo;). The &ldquo;Indicator details&rdquo; section displays information about the last selected indicator: code, short name, longer description, source and aggregation method.</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>The &ldquo;Select countries&rdquo; dialog contains the list of enumeration types (in this case countries) that socioeconomic data is available for within the database. Countries can be selected from the list in the same manner that indicators are selected using &ldquo;Select indicators&rdquo;. Once at least one indicator and one country has been selected, the &ldquo;OK&rdquo; button will be enabled. By pressing the &ldquo;OK&rdquo; button, data will be downloaded from the OQ-Platform and compiled into a vector shapefile for display and manipulation within QGIS (another dialog will ask you where to save the shapefile that will be obtained). The layer will contain features equal to the number of selected countries and will contain all attributes selected as indicators for the given countries. Additional attributes will include fields containing country ISO codes and country names. To reduce processing time, detailed country geometries were simplified using ESRI&rsquo;s &ldquo;Bend Simplify&rdquo; algorithm</span><sup><a href="#ftnt5" name="ftnt_ref5">[5]</a></sup><span>. Bend Simplify </span><span>removes extraneous bends and small intrusions and extrusions within an area&rsquo;s topology without destroying its essential shape.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 250.67px;"><img alt="" src="images/image11.png" style="width: 624.00px; height: 250.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 3. Layer attribute table </span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>Figure 3. shows the attribute table of a sample vector layer compiled and downloaded within the IRMT. Note that for some countries the values of indicators might be unavailable ( or NULL). When the tool downloads the socioeconomic data, a project definition is automatically built taking into account how the data was organized in the socioeconomic database. At the country level data was grouped together by these meaning that indicators belonging to the same theme will be grouped together in a hierarchical structure. This structure considers: 1) vulnerable populations; 2) economies; 3) education; 4) infrastructure; 5) health; 6) governance and institutional capacities; and 7) the environment. </span></p><p class="c0 c11"><span>&nbsp;</span></p><h1 class="c0 c7"><a name="h.t1ol53wssbej"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image16.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>5 Download project from the OpenQuake Platform</span></h1><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 552.72px; height: 771.50px;"><img alt="" src="images/image15.png" style="width: 552.72px; height: 771.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 4. Download projects from the OQ-Platform</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>An additional option to access data is by downloading projects shared by others on the OQ-Platform. By clicking the &ldquo;Download project from the OpenQuake Platform&rdquo;, the above dialog is opened (Figure 4). Here, a list of available projects is displayed. The list will contain the titles of projects for which the user has been granted editing privileges (their own projects or those shared with them by other users). When a project is selected from the list, its title, abstract, bounding box and keywords are displayed in the lower textbox that is utilized to delineate important attributes of the project&rsquo;s definition. The label directly above the textbox displays an ID that uniquely identifies the layer used in the OpenQuake-platform.</span></p><p class="c0 c12"><span></span></p><p class="c0 c11"><span>By pressing &ldquo;OK&rdquo;, the layer will be downloaded into the QGIS. If the associated project only contains one &ldquo;project definition&rdquo;, it will be automatically be selected and downloaded. Otherwise, the project definition manager will open (see </span><span class="c1"><a class="c8" href="#h.3nev2uqrrn0c">Project definitions manager</a></span><span>) allowing the user to choose one of the available project definitions. Once a project definition is selected, the composite indicators delineated within the project definition are re-calculated, and the layer is styled and rendered accordingly. This process may take some time, depending on the complexity of the project</span><span>.</span></p><h1 class="c0 c7 c21"><a name="h.ye7s16lk8xbe"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c0 c7 c21"><a name="h.fkhxs7bkmmw5"></a></h1><h1 class="c0 c7"><a name="h.np6kz2bvx04a"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image18.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>6 Transform attribute</span></h1><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 474.00px; height: 488.00px;"><img alt="" src="images/image14.png" style="width: 474.00px; height: 488.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 5. Variable transformation and batch transformation functionality</span></p><p class="c0 c12"><span></span></p><p class="c0"><span class="c17">Avoid adding up cherries, oranges, pears, and </span><span class="c17">Cybernetic Organisms</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>Once variables are selected, they should be standardized or normalized before they are aggregated into composite indicators. This is because variables are delineated in a number of statistical units that could easily consist of incommensurate ranges or scales. Variables are standardized to avoid problems inherent when mixing measurement units, and normalization is employed to avoid having extreme values dominate an indicator, and to partially correct for data quality problems. The </span><span>QGIS platform natively provides a &ldquo;Field calculator&rdquo; that can be used to update existing fields, or to create new ones, in order to to perform a wide variety of mathematical operations for the standardization/transformation of data. In addition, the &nbsp;IRMT provides a number of transformation functions found in popular statistical and mathematical modelling packages (Table 1). These include: </span></p><p class="c0 c12"><span></span></p><ol class="c20 lst-kix_n6by2jtt39ij-0 start" start="1"><li class="c0 c18"><span class="c5">Data Ranking</span><span class="c17">&nbsp;</span><span>is the simplest standardization technique. Ranking is not affected by outliers and allows the performance of enumeration units to be benchmarked over time in terms of their relative positions (rankings). </span></li><li class="c0 c18"><span class="c5">Z-scores (or normalization)</span><span>&nbsp;is the most common standardization technique. A Z-score converts indicators to a common scale with a mean of zero and standard deviation of one. Indicators with outliers that are extreme values may have a greater effect on the composite indicator. The latter may not be desirable if the intention is to support compensability where a deficit in one variable can be offset (or compensated) by a surplus in another.</span><span class="c40">&nbsp;</span></li><li class="c0 c18"><span class="c5">Min-Max Transformation</span><span>&nbsp;</span><span>is a type of transformation that rescales variables into an identical range between 0 and 1. Extreme values/or outliers could distort the transformed risk indicator. However, the MIN-MAX transformation can widen a range of indicators lying within a small interval, increasing the effect of the variable on the composite indicator m</span><span>ore than the Z-scores</span><span>. </span></li><li class="c0 c18"><span class="c5">Log10</span><span>&nbsp;is one of a class of logarithmic transformations that include natural log, log2, log3, log4, etc. Within the current plugin, we offer functionality for log10 only, yet these transformations are possible within the advanced &ldquo;field calculator&rdquo;. A logarithm of any negative number or &nbsp;zero is undefined. It is not possible to log transform values within the plugin if the data contains negative values or a zero. For values of zero, &nbsp;the tool will warn users and suggest that a 1.0 constant be added to move the minimum value of the distribution.</span></li><li class="c0 c18"><span class="c5">Sigmoid function</span><span>&nbsp;is a transformation function </span><span class="c38">having an &quot;S&quot; shape (</span><span class="c32">sigmoid curve</span><span class="c38">). </span><span>A Sigmoid function is used to transform values on (-</span><span>&infin;</span><span>, </span><span>&infin;</span><span>) into numbers on </span><span>(0, 1)</span><span>. The Sigmoid function is often utilized because the transformation is relative to a convergence upon an upper limit as defined by the S-curve. The IRMT utilizes a &ldquo;simple sigmoid function&rdquo; as well as its inverse. The Inverse of the Sigmoid function is a logit function which transfers variables on (0, 1) into a new variable on (-</span><span>&infin;</span><span>, </span><span>&infin;</span><span>). </span></li><li class="c0 c18"><span class="c5">Quadratic or U-shaped functions</span><span>&nbsp;are </span><span>the product of a polynomial equation of degree 2. </span><span>In a quadratic function, the variable is always squared resulting in a parabola or U-shaped curve. The IRMT offers an increasing or decreasing variant of the quadratic equation for horizontal translations and the respective inverses of the two for vertical translations.</span></li></ol><p class="c0 c12"><span></span></p><p class="c0"><span>Please note that it may be desirable </span><span>to visualize the results of the application of transformation functions to data. Although not feasible within the plugin at this point, we intend to build data plotting and curve manipulating functionalities into into future versions of the toolkit. &nbsp; </span></p><p class="c0 c12"><span></span></p><p class="c0"><span>T</span><span>he &ldquo;Transform attribute&rdquo; dialog (Figure 5) was designed to be quite straightforward. The user is required to select one or more</span><span>&nbsp;num</span><span>eric fields (variables) available in the active layer. For the selection to be completed, the user must move the variables (either one at a time, or in a batch) to the &ldquo;Selected variables&rdquo; window on the right side of the interface. The user must then select the function necessary to transform the selected variables. For some functions, more than one variant is available. For functions that have an implementation of an inverse transformation, the &ldquo;Inverse&rdquo; checkbox will be enabled to allow users to invert the outcome of the transformation.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>The &ldquo;New field(s)&rdquo; section contains two checkboxes and a text field. If the first checkbox &ldquo;Overwrite the field(s)&rdquo; is selected, the original values of the transformed fields will be overwritten by the results of the calculations; otherwise, a new field for each transformed variable will be created to store the results. In situations in which a user may desire to transform variables one at a time rather than using a batch transformation process, it is possible for the user to name each respective new field (editing the default one proposed by the tool). Otherwise, the names of the new fields will be automatically assigned using the following convention: if the original attribute is named &ldquo;ORIG_NAME&rdquo;, the name of the transformed attribute becomes &ldquo;T_ORIG_NAM&rdquo; (prepending &ldquo;T_&rdquo; and truncating to 10 characters which is the maximum length permitted for field names in shapefiles).</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>If the checkbox &ldquo;Let the project definitions&rsquo; references track the new field(s)&rdquo; is checked, all the project definitions associated with the active layer will reference the transformed fields instead of the original ones. Otherwise, they will keep the links to the original selected attributes. In most cases it is recommended to keep this checkbox checked. This automatic update of field references simplifies the workflow because it avoids the need to manually remove the original nodes from the weighting and aggregation tree (discussed in detail in Section </span><span class="c1"><a class="c8" href="#h.d687bx8xjywt">8 Weighting data and calculating indices</a></span><span>) in order to add the transformed nodes and to set again the nodes&rsquo; weights. In other words, if a project was developed by weighting and aggregating untransformed indicators, this functionality allows for variables used in the project definition to be replaced on-the-fly (and automatically) by transformed variables. &nbsp;This saves the user from having to augment the model manually. &nbsp;</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>By clicking the &ldquo;Advanced Calculator&rdquo; button, the native QGIS field calculator is opened.</span></p><p class="c0"><span>Please refer to </span><span class="c1"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fgithub.com%2Fgem%2Foq-svir-qgis%2Fblob%2Fmaster%2Ftransformation_algs.py&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEOplM8rF-Xt3WfiVvdcvJ2-Wy3Rg">https://github.com/gem/oq-svir-qgis/blob/master/transformation_algs.py</a></span><span>&nbsp;for the detailed documentation of all the agorithms and variants provided by the IRMT.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span class="c3">Table 1. Selection of transformation functions with equations found in the IRMT</span></p><a href="#" name="158da4e9b1fd7390bfb5c35b575c603b5e376373"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c43"><tbody><tr class="c27"><td class="c25" colspan="1" rowspan="1"><p class="c0 c11 c10 c33"><span class="c13">Standardization (or Z-scores)</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c30 c10"><img src="images/image00.png"></p><p class="c30 c10"><img src="images/image01.png"><span class="c14">, </span><img src="images/image02.png"></p></td></tr><tr class="c27"><td class="c25" colspan="1" rowspan="1"><p class="c0 c33 c11 c10"><span class="c13">Min-Max</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c30 c10"><img src="images/image03.png"></p></td></tr><tr class="c27"><td class="c25" colspan="1" rowspan="1"><p class="c0 c33 c11 c10"><span class="c13">Logistic Sigmoid</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c10 c30"><img src="images/image04.png"></p></td></tr><tr class="c27"><td class="c25" colspan="1" rowspan="1"><p class="c33 c10 c37"><span class="c13">Simple Quadratic</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c30 c10"><img src="images/image05.png"></p></td></tr></tbody></table><p class="c0 c12"><span></span></p><h1 class="c0 c7"><a name="h.3nev2uqrrn0c"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image24.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>7 Project definitions manager</span></h1><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 548.00px;"><img alt="" src="images/image13.png" style="width: 624.00px; height: 548.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 6. Project definitions manager</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>The &ldquo;</span><span>Project Definitions Manager</span><span>&rdquo; is a module that was developed to allow users to create multiple models that can be accessed with a click of a button using a single layer. Each &ldquo;project definition&rdquo; (see Section 2</span><span class="c1"><a class="c8" href="#h.oweolfzn25t">&nbsp;&ldquo;What do we mean by the terms &ldquo;layer&rdquo;, &ldquo;project&rdquo; and &ldquo;project definition&rdquo;?</a></span><span>) can define a different model structure, weighting and aggregation scheme, and variable selections among data available in the underlying layer. It allows users to seamlessly toggle through various integrated risk assessment projects without having to refer to different &ldquo;QGIS projects&rdquo; or different &ldquo;layers&rdquo; containing data for a given area or areas, and without having to re-symbolize data to compare results of assessments using different methodological parameters. The &ldquo;Project definitions manager&rdquo; was developed around a dialog window that enables users to edit the current project definition, to switch from the current project definition to a different one, to add a new project definition, or to clone an existing project definition.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>While contributing to the &ldquo;Title&rdquo; and &ldquo;Description&rdquo; textbox of the project definitions manager, the &ldquo;Raw textual representation&rdquo; is updated accordingly. Please note that it is not recommended for users to edit the parameters directly inside the &ldquo;raw textual representation&rdquo; portion of the project definition manager, although it is not forbidden. This especially applies to variable names (field names) and sub-indicators (also field names) defined by nodes within the weighting and aggregation tree (see Section 8</span><span class="c1"><a class="c8" href="#h.d687bx8xjywt">&nbsp;Weighting data and calculating indices</a></span><span>). Manual adjustments can be useful in some corner cases, by experienced users, but manual adjustments can cause the toolkit to behave unexpectedly and can cause shapefiles to behave unexpectedly. Users performing these adjustments are at risk of compromise their data.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>The &ldquo;+&rdquo; button at the right of the dropdown menu can be used to associate the current layer with a new project definition. By clicking it, a new basic project definition is created and the user is invited to provide the new project definition with a title and, possibly, a description.</span></p><p class="c0"><span>The button &ldquo;Make a copy of the selected project definition&rdquo;, assigns to the active layer within the QGIS a new project definition that is an exact clone of the selected one. Having two similar project definitions can be useful to easily visualize how the output of a project is changed based on &nbsp;updated variable selections, weighting, and aggregation schemes. This visualization is possible because a simple click is sufficient to switch between &ldquo;before&rdquo; and &ldquo;after&rdquo; project definitions. When &ldquo;OK&rdquo; is pressed, the composite indices are re-calculated accordingly with the project definition and the layer is styled as a consequence via a default classification and symbolization that is adjustable within the QGIS. This computation can take some time, depending on the complexity of the layer.</span></p><h1 class="c0 c7 c21"><a name="h.4bp21p2ixjoc"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c0 c7 c21"><a name="h.57fknwpf5cxn"></a></h1><h1 class="c0 c7"><a name="h.d687bx8xjywt"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image27.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>8 Weighting data and calculating indices</span></h1><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 621.33px;"><img alt="" src="images/image06.png" style="width: 624.00px; height: 621.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 7. Tree chart structure for the development of composite indicators</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>Central to the construction of composite indicators is the need to meaningfully combine different data dimensions, and consideration must be given to weighting and aggregation procedures. Most composite indicators rely on equal weighting largely for simplicity. Equal weighting, however, implies that all variables within the composite indicator are of equal importance when this may not actually be the case. The issue of aggregation is similar to the weighting process. Different aggregation rules may be applied depending on the underlying theoretical framework chosen by the user for the modelling process. Sub-indicators may be summed up (linear aggregation) for instance, multiplied, or geometrically aggregated to correct for compensability (</span><span class="c17">i.e. </span><span>the possibility of offsetting a deficit in some dimension with an outstanding performance in another). Each technique has specific consequences, implies different assumptions, and could ignore or incorporate weights. </span></p><p class="c0 c12"><span class="c40"></span></p><p class="c0"><span>The &ldquo;Weight data and calculate indices&rdquo; application (Figure 7) is the key module of the IMRT. It contains the model building functionality of the IRMT, and it is used to create, edit, and manage composite indicator(s) and integrated risk model development. The &ldquo;Weight data and calculate indices&rdquo; application provides users with an intuitive way to develop composite models by building and editing the selected project definition through the use of a dynamic graphical interface that was developed explicitly to guide the construction of composite indicators in a manner that is simple, visual, and straight-forward. The latter is accomplished through a window that embeds a web browser in which a javascript D3 tree chart is rendered (see Figure 7). This tree chart structure (or weighting and aggregation tree) defines a workflow that strings together sequences of steps to describe how variables are combined together to obtain the composite indices. &nbsp;</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>Currently, the IRMT supports the development of two composite model types: a) deductive and, b) hierarchical (Figure 8). </span><span>Deductive models typically contain fewer than ten indicators that are normalized and aggregated to create an index. Hierarchical models typically employ ten to twenty indicators that are separated into groups (sub-indices) that share the same underlying dimension of a concept (in this case socio-economic parameters of earthquake risk such as population, economy, infrastructure, education, and governance). </span></p><p class="c0"><span>Individual indicators are aggregated into sub-indices (e.g. population, economy, etc), and the sub-indices are aggregated to form a final composite index (e.g. a social vulnerability or integrated risk index). The tree structure of the &ldquo;Weight data and calculate indices&rdquo; application encourages the development of hierarchical models of integrated risk. The starting point is a &ldquo;root node&rdquo; that corresponds to the development of a hierarchical model that can be: 1) an &ldquo;Integrated Risk Index&rdquo; (IRI) which is a function of the aggregation of a &ldquo;Social Vulnerability Index&rdquo; (SVI) and a &ldquo;Risk Index&rdquo; (RI); or 2) a &ldquo;Social Vulnerability Index&rdquo; (SVI) that is the result of the aggregation of various sub-indicators defined by the user (e.g. Economy, Education, and Environment as shown within Figure 7). &nbsp;The tree can be modified dynamically by adding or removing nodes, &ldquo;inverting&rdquo; variables, setting a weight to each variable or node and choosing the operators to be used to combine variables together.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>Whenever &ldquo;Update&rdquo; or &ldquo;Update and close&rdquo; are clicked, the project definition is updated and the composite indices are </span><span>re-calculated</span><span>. As a consequence, the map is rendered and styled accordingly. This allows the user to have an immediate feedback on how the map changes depending on how the project definition is set. Such automatic re-calculations and rendering can take some time, depending on the complexity of the project and number of enumerations units analysed.</span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c31"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 523.00px; height: 366.00px;"><img alt="Screen Shot 2015-07-13 at 8.46.58 AM.png" src="images/image19.png" style="width: 523.00px; height: 366.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">Figure 8. Composite indicator types</span><sup class="c3"><a href="#ftnt6" name="ftnt_ref6">[6]</a></sup><span class="c3">. </span></p><p class="c0 c12"><span></span></p><p class="c0"><span>The main functional elements of the weighting and aggregation tree are discussed in the subsections below.</span></p><h2 class="c0 c7"><a name="h.530ipoaug34o"></a><span>8.1 Adding a node</span></h2><p class="c0"><span>Individual nodes correspond to aggregated composite indicators within the weighting and aggregation tree. To add a node (i.e. a composite sub-indicator) within the tree, it is possible to begin by left-clicking on the default node </span><span>(i.e. SVI</span><span>). Clicking on the default SVI node allows the addition of multiple new sub-indicators, each with its own user-provided name (note that it is not possible to add nodes stemming from the IRI). When a newly created node is clicked, a new dialog is initiated to give users the option to select the variables available in the layer (and not already used in the node) to populate the sub-indicator being under construction. Please note that the SVI can be calculated if each socioeconomic sub-indicator has at least one variable. In order to add an indicator to one of the socioeconomic sub-indicators, you can click on the corresponding node. When adding an indicator to the RI, or to one of the socioeconomic sub-indicators, the description of the node will be automatically set to be equal to the name of the corresponding layer&rsquo;s variable. Users can edit this description, however, by clicking on the text displayed next to the node in the tree and then by clicking within the corresponding textbox to change the text.</span></p><h2 class="c0 c7"><a name="h.gylny596msbx"></a><span>8.2 Rem</span><span>ovi</span><span>ng a node</span></h2><p class="c0"><span>In order to remove one of the nodes from the tree, users can perform a right-click on that node. A popup dialog window will ask you to confirm if you really intend to delete the node and all of its &ldquo;children&rdquo; (the lower level nodes connected to it). Please note that removing a node from the tree will not delete the corresponding field from the layer.</span></p><h2 class="c0 c7"><a name="h.eyns3xmax8ny"></a><span>8.3 Setting the operators to be used to combine nodes together (variable aggregation)</span></h2><p class="c0"><span>On the right of each node, the tree indicates the name of the operator to be used to combine (or aggregate) the &ldquo;children&rdquo; of such node. By clicking on the operator&rsquo;s name, a dialog to set weights and operators is opened. The same happens when clicking on the name of one of the children nodes. The operator can be chosen from a dropdown menu. Some operators (e.g., &ldquo;Weighted sum&rdquo;) take into account the weights applied to the child nodes. Other operators (e.g., &ldquo;Average (ignore weights)&rdquo;) do not take into account weights. When the chosen operator is one of the latter, the child nodes will be rendered on the graphical display all with the same radius and their weights will not be rendered (see figure 7 for a demonstration of how the radius of nodes corresponds with the respective weights of variables). Otherwise, the radius of a node is proportional to its weight, and the weight is rendered next to the node.</span></p><h2 class="c0 c7"><a name="h.8stxtae50xpn"></a><span>8.4 Setting weights</span></h2><p class="c0"><span>Central to the construction of composite indicators in the need to combine data into meaningful dimensions which implies decisions on weighting. The dialog to set weights is opened in the same way as described in Section </span><span><a class="c8" href="#h.eyns3xmax8ny">8.3</a></span><span class="c1"><a class="c8" href="#h.eyns3xmax8ny">&nbsp;&ldquo;Setting the operators to be used to combine nodes together (variable aggregation)</a></span><span class="c26">&rdquo;</span><span>. Several weighting techniques are available, and some make use of statistical models. For the IRMT</span><span>&nbsp;</span><span>we implemented a simple solution to weighting that is often based on the results of participatory approaches. A weight can be edited manually by clicking on its value and overwriting it with a new value. A weight can also be edited by clicking on the spinner&rsquo;s arrows to increase or decrease the weight. By clicking &ldquo;Update&rdquo;, the weights will be re-calculated in order to make them sum to 1. In other words, if you have 3 variables and you set their weights to 1, 2 and 5 and you press &ldquo;Update&rdquo;, the weights will be re-calculated to be respectively 0.125, 0.250 and 0.625, keeping the same proportion between each other, and summing to 1.</span></p><h2 class="c0 c7"><a name="h.lminh8a9hhg2"></a><span>8.5 Inverting a variable</span></h2><p class="c0"><span>The dialog to invert variables is opened in the same way as described in Section </span><span><a class="c8" href="#h.eyns3xmax8ny">8.3</a></span><span class="c1"><a class="c8" href="#h.eyns3xmax8ny">&nbsp;&ldquo;Setting the operators to be used to combine nodes together (variable aggregation)</a></span><span class="c26">&rdquo;</span><span>. If a variable contributes in a &ldquo;negative&rdquo; way to the composite indicator (e.g., a higher education corresponding to a lower social vulnerability), it is possible to indicate such an inverse relationship by pressing the &ldquo;Invert&rdquo; button next to the variable name. The effect on a composite indicator in response to this decision process and setting is that each value of the &ldquo;inverted&rdquo; variables will be to multiplied by -1 each time the variables themselves are used in a calculation. Please note that the layer&rsquo;s field will keep holding the original value of the variable, and that the inversion will be performed on-the-fly for the purpose of the calculation.</span></p><h2 class="c0 c7"><a name="h.m49m392nrvs2"></a><span>8.6 Assigning a new name to a variable</span></h2><p class="c0"><span>The dialog to assign a new name to a variable is also opened in the same way as described in Section </span><span><a class="c8" href="#h.eyns3xmax8ny">8.3</a></span><span class="c1"><a class="c8" href="#h.eyns3xmax8ny">&nbsp;&ldquo;Setting the operators to be used to combine nodes together (variable aggregation)</a></span><span class="c26">&rdquo;</span><span>. By clicking on the variable&rsquo;s name, a popup dialog asks users to insert the new name. The project definition will be updated accordingly, linking the layer&rsquo;s fieldname with the modified description.</span></p><h2 class="c0 c7"><a name="h.oahobzr116eq"></a><span>8.7 Styling the layer by a chosen field</span></h2><p class="c0"><span>The dropdown menu on the bottom of the &ldquo;Set weights and operators&rdquo; module can be used to choose fields within a layer, i.e., fields other than those delineated within the project definition to be symbolized, allowing all fields in a layer to be to be symbolized on-the-fly. This can be useful, for instance, to map the values calculated for different sub-indicators, or even individual variables if they are of interest. By default, the selection is blank. In the default case, the tool will adopt the following convention: 1) if the IRI can be computed, then the layer will be symbolized according to it; 2) otherwise, if the SVI can be computed, then it will be used as the default case for symbolization in the absence of IRI; 3) otherwise, the convention will apply with respect to the RI; and 4) if none of main sub-indicators can be calculated, then the layer will not be re-styled unless the user uses the dropdown menu to specify a specific symbolization field.</span></p><h1 class="c0 c7"><a name="h.r2z1lu70c95j"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image26.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>9 Aggregate loss by zone</span></h1><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 530.00px; height: 189.00px;"><img alt="" src="images/image08.png" style="width: 530.00px; height: 189.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c11"><span class="c3">Figure 9. Aggregate loss by zone data import tool</span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>The development of an integrated risk model (IRI) arises from the convolution of two main components: 1) estimations of physical risk (RI), and 2) a social vulnerability index (SVI). The convolution of earthquake physical risk and social vulnerability parameters can be accomplished by, first, importing risk assessments from OpenQuake (or some other source) using the toolkit&rsquo;s risk import tool (Figure 9). As a subsequent step, earthquake risk data imported into the tool should be standardized to render the data commensurate to the socioeconomic indicators created within the tool. </span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>To import data, users can click the &ldquo;Aggregate loss by zone&rdquo; button which prompts a dialog window to open. Here, it is possible to select layers containing estimations of physical risk, (&ldquo;Loss layer&rdquo;) or some other type of risk model, and to combine these with a layer containing zonal geometries of the study area (e.g. country borders, district borders) and socioeconomic indicators. The top dropdown menu is pre-populated with the names of the available vector layers containing point geometries (a native output of the OQ-Engine), while the second dropdown menu is pre-populated with the names of the available vector layers containing polygonal geometries. If those menus do not contain the desired layers, it is possible to click one of the &ldquo;...&rdquo; buttons, to load another layer from the file system. As soon as a new layer is loaded, it will be available in the QGIS table of contents and its name will become available and pre-selected in the corresponding dropdown menu.</span></p><p class="c0 c11 c12"><span></span></p><p class="c0 c11"><span>Estimations of physical risk can be made available from the OQ-Engine as one or multiple CSV files. By selecting the file type &ldquo;Loss curves from the OpenQuake-engine&rdquo;, such files become available and can be (multi)selected. The resulting loss layer will contain a number of attributes equal to the number of CSV files imported, and each attribute will correspond to a different loss type.</span></p><p class="c0 c11 c12"><span></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 361.33px;"><img alt="" src="images/image09.png" style="width: 624.00px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 10. Zonal aggregation of loss values</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>Loss data from the OQ-Engine is rendered as points containing X,Y locational coordinates and the loss values for the different assets represented at a given location. Once both a loss layer and a zonal layer have been selected, the above dialog window is opened (Figure 10). In the &ldquo;Loss Layer&rdquo; section of the dialog window, the user is invited to select one or more attributes from the loss layer. This selection is because the toolkit will calculate the sum and average values for each of the zonal layer&rsquo;s features, and it will add those statistics to the zonal layer as new attributes. Within the layer&rsquo;s attribute table, a subsequent attribute will be added to display the count of loss points that are found inside the boundaries of each feature. The latter can be useful for troubleshooting. </span></p><p class="c0 c12"><span></span></p><p class="c0"><span>The &ldquo;aggregation by zone&rdquo; can be obtained in different ways. If the user is aware that both the loss layer and the zonal layer contain a common attribute that indicates the id of the zone to which each feature belongs, then it is sufficient to select this common attribute both for the loss layer and the zonal layer, and let the tool perform a simple join. In this case, the aggregation is fast because it does not require spatial analysis.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>If a common zonal ID does not exist, a spatial join using zonal geometries may be utilized. This is accomplished, first, by selecting &ldquo;Use zonal geometries&rdquo; within the &ldquo;Zone ID attribute name&rdquo; dropdown menu that contains also the names of all the attributes of the loss layer. As a consequence, the tool will perform a spatial search to detect to which zone each of the loss points belongs. The &ldquo;Zone ID attribute name&rdquo; in the zonal layer is the attribute that uniquely identifies each of the zones. If the user is not sure if features are uniquely identified by any of the available attributes in the zonal layer, then it is possible to select the additional item &ldquo;Add field with unique zone id&rdquo;. As a consequence of this choice, the tool will produce an additional attribute in the corresponding layer, and it will set the values of that attribute to be equal to the unique id of the corresponding feature. Then the new attribute will be used as unique id of the feature, to perform the loss aggregation by zone.</span></p><h1 class="c0 c21 c10"><a name="h.uupxr6ovlr5b"></a></h1><h1 class="c0 c10"><a name="h.6w2yqbgnp6ca"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 38.00px; height: 38.00px;"><img alt="" src="images/image12.png" style="width: 38.00px; height: 38.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>10 Upload project to the OpenQuake Platform</span></h1><p class="c0"><span>Once an integrated risk model is complete, and the user is satisfied with results such as those obtained for the example displayed in Figure 11, it is possible to upload projects through the OQ-Platform. Projects are uploaded in order to share them with the wider earthquake risk assessment, earthquake risk reduction, GIS communities, etc. Uploading to the OQ-Platform also &nbsp;supports the ability to visualize models using advanced visualization tools and the mapping of the data over the web. In addition, sharing the models on the OQ-Platform allows users that are not QGIS savvy to dynamically interact with the data. The mapping and visualization over the web is accomplished using the OQ-Platform (Figure 12) and the Social Vulnerability and Integrated Risk Viewer (the web application is available at </span><span class="c1"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fwww.globalquakemodel.org%2Fopenquake%2Fsupport%2Fdocumentation%2Fplatform%2Firv%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFw9RQqldM-NsIc6czDBitBwP6A0A">http://www.globalquakemodel.org/openquake/support/documentation/platform/irv/</a></span><span>&nbsp;and the corresponding documentation can be found at </span><span class="c1"><a class="c8" href="https://www.google.com/url?q=https%3A%2F%2Fplatform.openquake.org%2Firv_viewer%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGVa79FUOsfpvq6-i7nXjF4BbZqUQ">https://platform.openquake.org/irv_viewer/</a></span><span>).</span></p><p class="c0 c12"><span class="c3"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 352.00px;"><img alt="" src="images/image22.png" style="width: 624.00px; height: 352.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 11. Simplified Integrated Risk analysis as it is seen inside QGIS right before the project is uploaded to the OQ-Platform.</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 578.00px;"><img alt="" src="images/image10.png" style="width: 624.00px; height: 647.00px; margin-left: 0.00px; margin-top: -69.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">Figure 12. The same simple example shown in Figure 11, visualized through a web browser after it has been uploaded to the OQ-Platform.</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>To upload a project to the OQ-Platform, click &ldquo;Upload project to the OpenQuake Platform&rdquo;. This will result in the opening of a dialog window in which, depending on the context, the window will look like those delineated in Figure 13 or 14. The former will be displayed if the current project has never been uploaded to the OQ-Platform. In such cases, the user is invited to provide a project title that will become the title of the Geonode layer that will be created on the Platform. A second field will contain the abstract, where the user can provide a general description of the project.</span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0 c12"><span></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 509.00px; height: 397.00px;"><img alt="" src="images/image25.png" style="width: 509.00px; height: 397.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c3">&nbsp;Figure 13. Uploading a project to the OQ-Platform</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>In order to be able to correctly utilize the advanced visualization tools found on the OQ-Platform, the selection of a &ldquo;Zone labels field&rdquo; is required (see Figure 13). The user must designate the &ldquo;Zone labels field&rdquo; within their dataset. The latter is a field containing unique labels (or identifiers) whether these be individual country names, district names, or census block numbers. Delineating a zone field when uploading to the OQ-Platform is imperative to allow the graphing components of the Social Vulnerability and Integrated Risk Viewer to render the visualization using the zone&rsquo;s labels. Without the latter, comparisons among places within the graphing tools are not possible. It is also mandatory to choose a license and to click on the checkbox to confirm to be informed about the license conditions. By clicking the &ldquo;Info&rdquo; button, a web browser will be opened, pointing to a page that describes the license selected in the &ldquo;License&rdquo; dropdown menu. When &ldquo;OK&rdquo; is pressed, the active layer is uploaded to the OQ-Platform and it is applied in the same style visible in QGIS. Furthermore, the current project definition is saved into the Geonode layer&rsquo;s metadata, inside the &ldquo;Supplemental information&rdquo; field.</span></p><h1 class="c0 c7"><a name="h.pkxe2613tamy"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 584.00px; height: 464.00px;"><img alt="" src="images/image21.png" style="width: 584.00px; height: 464.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1><p class="c0"><span class="c3">&nbsp;Figure 14. Updating a project that has already been uploaded to the OQ-Platform</span></p><p class="c0 c12"><span></span></p><p class="c0"><span>This second version of the &ldquo;Upload&rdquo; dialog window is displayed when the active layer appears to have been already shared through the OQ-Platform (the ID of a OQ-Platform&rsquo;s layer was previously associated with this layer). In such cases, it is possible to create a brand new layer, ignoring the previously uploaded (or downloaded) project, or to update the current layer. The updating process consists of adding the current project definition to the set of project definitions associated to that layer on the OQ-Platform. This is a much faster procedure because no geometries need to be uploaded, and only the metadata of the Geonode layer will </span><span>be changed.</span></p><div><p class="c0 c12 c34"><span></span></p></div><hr class="c45"><div><p class="c0 c16 c42"><a href="#ftnt_ref1" name="ftnt1">[1]</a><span class="c14">&nbsp;</span><span class="c3">Silva, V., Crowley, H., Pagani, M., Monelli, D., and Pinho, R., 2014. Development of the OpenQuake engine, the Global Earthquake Model&rsquo;s open-source software for seismic risk assessment. Natural Hazards 72(3), 1409-1427.</span></p><p class="c0 c16 c12"><span class="c14"></span></p></div><div><p class="c0 c16"><a href="#ftnt_ref2" name="ftnt2">[2]</a><span class="c3">&nbsp;ESRI 1998. </span><span class="c17 c3">ESRI Shapefile Technical Description</span><span class="c3">, Environmental Systems Research Institute, Redlands, C.A. &nbsp;</span></p></div><div><p class="c0 c16"><a href="#ftnt_ref3" name="ftnt3">[3]</a><span class="c14">&nbsp;</span><span class="c3">Nardo, M., Saisana, M., Saltelli, A. and Tarantola, S. 2008. </span><span class="c17 c3">Handbook on constructing composite indicators: Methodology and user guide</span><span class="c3">. Paris, France: OECD Publishing.</span></p></div><div><p class="c0 c11 c16"><a href="#ftnt_ref4" name="ftnt4">[4]</a><span class="c14">&nbsp;</span><span class="c3">Khazai B, Burton C.G., Tormene, P., Power, C., Bernasocchi, M., Daniell, J., and Wyss, B. (2014). Integrated Risk Modelling Toolkit and Database for Earthquake Risk Assessment. Proceedings of the Second European Conference on Earthquake Engineering and Seismology, European Association of Earthquake Engineering and European Seismological Commission, Istanbul, Turkey.</span></p></div><div><p class="c0 c10 c35"><a href="#ftnt_ref5" name="ftnt5">[5]</a><span class="c14">&nbsp;</span><span class="c3">ESRI 2012. ArcGIS Resources, </span><span class="c3 c19">Simplify Line (Cartography), </span><span class="c19 c1 c3"><a class="c8" href="http://www.google.com/url?q=http%3A%2F%2Fresources.arcgis.com%2Fen%2Fhelp%2Fmain%2F10.1%2Findex.html%23%2F%2F007000000010000000&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGI5_zq9nunymTiEVZJhQ_jTnpgwQ">http://resources.arcgis.com/en/help/main/10.1/index.html#//007000000010000000</a></span></p><p class="c0 c16"><span class="c3">&nbsp;</span></p></div><div><p class="c0 c16"><a href="#ftnt_ref6" name="ftnt6">[6]</a><span class="c14">&nbsp;Adapted from: Tate, E.C. 2012. Social vulnerability indices: a comparative assessment using uncertainty and sensitivity analysis, </span><span class="c17 c14">Natural Hazards</span><span class="c14">, 63(2): 325-347. </span></p></div></body></html>